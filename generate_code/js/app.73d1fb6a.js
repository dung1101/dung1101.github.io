(function(t){function e(e){for(var a,s,i=e[0],r=e[1],l=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==c[r]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},c={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/generate_code/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),c=n.n(a);c.a},3857:function(t,e,n){"use strict";var a=n("90b7"),c=n.n(a);c.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"control"},[n("div"),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?n:n[0]}}},[n("option",[t._v("ED")]),n("option",[t._v("OPD")]),n("option",[t._v("IPD")]),n("option",[t._v("EIO")])])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.generate(e)},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div")]),n("div",{staticClass:"result"},[n("pre",{staticClass:"g-pre"},[t._v("    "+t._s(t.g_text)+"\n    ")])])])},i=[],r=(n("99af"),n("b0c0"),{name:"HelloWorld",props:{msg:String},data:function(){return{selected:"IPD",name:"",g_text:""}},methods:{generate:function(){var t=this.selected.substring(0,1),e=this.selected.toLowerCase(),n="$$$",a="@@@";this.g_text="\nusing System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Linq;\nusing System.Net;\nusing System.Web.Http;\n\nusing DataAccess.Models.".concat(this.selected,"Model;\nusing EForm.Authentication;\nusing EForm.Client;\nusing EForm.Common;\nusing EForm.Controllers.BaseControllers;\nusing EForm.Models;\nusing Newtonsoft.Json.Linq;\n\nnamespace EForm.Controllers.").concat(this.selected,"Controllers\n{\n    [SessionAuthorize]\n    public class ").concat(this.selected).concat(this.name,"Controller : Base").concat(this.selected,'ApiController\n    {\n        [CSRFCheck]\n        [HttpPost]\n        [Route("api/').concat(this.selected,"/").concat(this.name,'/Create/{id}")]\n        [Permission(Code = "').concat(t).concat(n,'1")]\n        public IHttpActionResult Create').concat(this.name,"API(Guid id)\n        {\n            var ").concat(e," = Get").concat(this.selected,"(id);\n            if (").concat(e," == null)\n                return Content(HttpStatusCode.NotFound, Message.").concat(this.selected,"_NOT_FOUND);\n\n            if (").concat(e,".").concat(this.selected).concat(this.name,"Id != null)\n                return Content(HttpStatusCode.BadRequest, Message.").concat(n,"_IS_EXIST);\n\n            var ").concat(a," = new ").concat(this.selected).concat(this.name,"();\n            unitOfWork.").concat(this.selected).concat(this.name,"Repository.Add(").concat(a,");\n\n            ").concat(e,".").concat(this.selected).concat(this.name,"Id = ").concat(a,".Id;\n            unitOfWork.").concat(this.selected,"Repository.Update(").concat(e,');\n\n            return Content(HttpStatusCode.OK, Message.SUCCESS);\n        }\n\t\n\t\n        [HttpGet]\n        [Route("api/').concat(this.selected,"/").concat(this.name,'/{id}")]\n        [Permission(Code = "').concat(t).concat(n,'2")]\n        public IHttpActionResult Get').concat(this.name,"API(Guid id)\n        {\n            var ").concat(e," = Get").concat(this.selected,"(id);\n            if (").concat(e," == null)\n                return Content(HttpStatusCode.NotFound, Message.").concat(this.selected,"_NOT_FOUND);           \n\n            var ").concat(a," = ").concat(e,".").concat(this.selected).concat(this.name,";\n            if (").concat(a," == null || ").concat(a,".IsDeleted)\n                return Content(HttpStatusCode.NotFound, Message.").concat(this.selected,"_").concat(n,"_NOT_FOUND);\n\n            var datas = ").concat(a,".").concat(this.selected).concat(this.name,'Datas.Where(e=>!e.IsDeleted)\n                .Select(e => new { e.Id, e.Code, e.Value })\n\n            return Content(HttpStatusCode.OK, new\n            {\n                Datas = datas,\n            });\n        }\n\n        [CSRFCheck]\n        [HttpPost]\n        [Route("api/').concat(this.selected,"/").concat(this.name,'/{id}")]\n        [Permission(Code = "').concat(t).concat(n,'3")]\n        public IHttpActionResult Update').concat(this.name,"API(Guid id, [FromBody]JObject request)\n        {\n            var ").concat(e," = Get").concat(this.selected,"(id);\n            if (").concat(e," == null)\n                return Content(HttpStatusCode.NotFound, Message.").concat(this.selected,"_NOT_FOUND);           \n\n            var ").concat(a," = ").concat(e,".").concat(this.selected).concat(this.name,";\n            if (").concat(a," == null || ").concat(a,".IsDeleted)\n                return Content(HttpStatusCode.NotFound, Message.").concat(this.selected,"_").concat(n,"_NOT_FOUND);\n\n            HandleUpdateOrCreate").concat(this.name,"Data(").concat(a,', request["Datas"]);\n\n            return Content(HttpStatusCode.OK, Message.SUCCESS);\n        }\n\n\n        private void HandleUpdateOrCreate').concat(this.name,"Data(").concat(this.selected).concat(this.name," ").concat(a,", JToken request)\n        {\n            var datas = ").concat(a,".").concat(this.selected).concat(this.name,'Datas.Where(e=>!e.IsDeleted).ToList();\n            foreach (var item in request)\n            {\n                if (item["Code"]?.ToString()) == null)continue;\n\n                var data = GetOrCreate').concat(this.selected).concat(this.name,"Data(code, datas);\n                if (data == null)continue;\n\n                Update").concat(this.selected).concat(this.name,'Data(data, item["Value"]);\n            }\n            unitOfWork.Commit();\n        }\n\n        private ').concat(this.selected).concat(this.name,"Data GetOrCreate").concat(this.selected).concat(this.name,"Data(Guid form_id, string code, dynamic datas)\n        {\n            var data = datas.FirstOrDefault(e => e.Code == code);\n            if (data != null) return data;\n\n            ").concat(this.selected).concat(this.name,"Data new_data = new ").concat(this.selected).concat(this.name,"Data\n            {\n                ").concat(this.selected).concat(this.name,"Id = form_id,\n                Code = code,\n            };\n            unitOfWork.").concat(this.selected).concat(this.name,"DataRepository.Add(new_data);\n            return data;\n        }\n\n        private void UpdateEmergencyRecordData(").concat(this.selected).concat(this.name,"Data data, string value)\n        {\n            data.Value = value;\n            unitOfWork.").concat(this.selected).concat(this.name,"DataRepository.Update(data);\n        }\n    }\n}\n      ")}}}),l=r,d=(n("3857"),n("2877")),u=Object(d["a"])(l,s,i,!1,null,"71237950",null),p=u.exports,h={name:"App",components:{HelloWorld:p}},m=h,f=(n("034f"),Object(d["a"])(m,c,o,!1,null,null,null)),v=f.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(v)}}).$mount("#app")},"85ec":function(t,e,n){},"90b7":function(t,e,n){}});
//# sourceMappingURL=app.73d1fb6a.js.map